import { useEffect, useContext } from "react";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { useNavigate } from "react-router-dom";
import { DataContext } from "../../context";





const TopBar = () => {
          const data = useContext(DataContext)



          const navigate = useNavigate()

          const handleKeyDown = (e) => {
                    if (e.key === "Enter") {
                              if (data.input) {
                                        data.setShowSearch(true)
                                        navigate("/search")
                              }
                    }

          }
          useEffect(() => {
                    navigate("/")
          }, [])


          return (
                    <div className="fixed">
                              <header>
                                        <button id="categories" title="Categories"><FontAwesomeIcon icon="arrow-alt-circle-down" /></button>
                                        <input className="input_search" type="text" placeholder="Tape Main Ingredient" onChange={(e) => data.setInput(e.target.value)} onKeyDown={handleKeyDown} ></input>


                              </header>
                    </div>
          )
}


export default TopBar